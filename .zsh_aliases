# ZSH
alias zshconfig="micro ~/.zshrc"
alias zshrestart="source ~/.zshrc"

# General
alias c='clear'
alias l='exa'
alias la='exa --all'
alias ll='exa --long'
alias lla='exa --long --all'
alias lsr='exa --recurse'
alias trm='trash'
alias bl='brew list; echo'
alias update='brew update; brew upgrade; brew cu --all --yes --cleanup; composer global update; npm -g up'
alias cleanup='brew autoremove; brew cleanup -s --prune=7'

# Brave Incognito
alias bi='open -a Brave\ Browser --args --incognito'

# Editor
alias m='micro'

# NVM
alias nup='nvm install node --reinstall-packages-from=node'
alias nupl='nvm install lts/fermium --reinstall-packages-from=node'

# NPM
alias npm-po='npm i --package-lock-only'
alias nrc='npm run commit'
alias nre='npm run export'
alias nrl='npm run lint'
alias nrs='npm run start'
alias nrtc='npm run test:cov'
alias nrtw='npm run test:watch'

# Yarn
alias yc='yarn commit'
alias ye='yarn export'
alias yl='yarn lint'
alias ys='yarn start'
alias ytc='yarn test:cov'
alias ytw='yarn test:watch'

# Flush Directory Service cache
alias flush="dscacheutil -flushcache; killall -HUP mDNSResponder"

# Lock the screen (when going AFK)
alias afk="/System/Library/CoreServices/Menu\ Extras/User.menu/Contents/Resources/CGSession -suspend"

# Always enable colored `grep` output
alias grep='grep --color=auto'
alias fgrep='fgrep --color=auto'
alias egrep='egrep --color=auto'

# Print each PATH entry on a separate line
alias path='echo -e ${PATH//:/\\n}'

# Create a new directory and enter it
function mkd() {
  mkdir -p "$@" && cd "$_"
}

# Determine size of a file or total size of a directory
function fs() {
  if du -b /dev/null >/dev/null 2>&1; then
    local arg=-sbh
  else
    local arg=-sh
  fi
  if [[ -n "$@" ]]; then
    du $arg -- "$@"
  else
    du $arg .[^.]* ./*
  fi
}

# Use Gitâ€™s colored diff when available
hash git &>/dev/null
if [ $? -eq 0 ]; then
  function diff() {
    git diff --no-index --color-words "$@"
  }
fi

# `o` with no arguments opens the current directory, otherwise opens the given
# location
function o() {
  if [ $# -eq 0 ]; then
    open .
  else
    open "$@"
  fi
}

# `tre` is a shorthand for `tree` with hidden files and color enabled, ignoring
# the `.git` directory, listing directories first. The output gets piped into
# `less` with options to preserve color and line numbers, unless the output is
# small enough for one screen.
function tre() {
  tree -aC -I '.git|node_modules|bower_components' --dirsfirst "$@" | less -FRNX
}
